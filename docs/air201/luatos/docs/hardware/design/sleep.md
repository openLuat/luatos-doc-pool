# 休眠

工作模式

- 待机模式（IDLE）：正常工作模式
- LIGHT（SLEEP1） 轻度睡眠模式：
  - CPU 停止
  - RAM保持供电
  - GPIO保持电平
  - 可通过定时器/网络下行数据/GPIO & WAKEUP引脚中断唤醒
  - 唤醒后程序继续运行
- DEEP（SLEEP2） 深度睡眠模式：
  - CPU 停止
  - 核心RAM掉电, 保留RAM维持供电
  - 只有AGPIO可保持休眠前的电平
  - 可定时器唤醒/WAKEUP引脚中断唤醒
  - 唤醒后程序从头运行,休眠前的运行时数据会丢失，不保存
- HIB 休眠模式：
  - CPU 停止
  - RAM掉电, 保留RAM也掉电
  - 只有AGPIO可保持休眠前的电平
  - 可定时器唤醒/WAKEUP引脚中断唤醒
  - 唤醒后程序从头运行,休眠前的运行时数据会丢失，不保存

## 功耗数据

| **测试用例**                                            | **USB功能** | **飞行模式** | **LED灯管** | **GNSS**     | **ES8311** | **Gsensor**  | **音频PA** | **平均功耗** |
| ------------------------------------------------------- | ----------- | ------------ | ----------- | ------------ | ---------- | ------------ | ---------- | ------------ |
| SLEEP1模式下最低功耗                                    | 关闭        | 开启         | 关闭        | 关闭         | 关闭       | 关闭         | 关闭       | 84μA         |
| HIB 模式下最低功耗                                      | 开启        | 开启         | 关闭        | 关闭         | 关闭       | 关闭         | 关闭       | 17μA         |
| IDLE 待机功耗                                           | 关闭        | 开启         | 关闭        | 关闭         | 关闭       | 关闭         | 关闭       | 3.54mA       |
| GNSS工作功耗（不含模块和其他部件电流）                  | 关闭        | 开启         | 关闭        | 开启         | 关闭       | 关闭         | 关闭       | 12.07mA      |
| GNSS和Gsensor打开备电（不含模块和其他部件电流）         | 关闭        | 开启         | 关闭        | 只打开GPIO24 | 关闭       | 只打开GPIO24 | 关闭       | 220μA        |
| ES8311供电开启但未工作时 功耗（不含模块和其他部件电流） | 关闭        | 开启         | 关闭        | 关闭         | 开启       | 关闭         | 关闭       | 220μA        |
| 音频PA 功耗（不含模块和其他部件电流）                   | 关闭        | 开启         | 关闭        | 关闭         | 关闭       | 关闭         | 开启       | 2.71mA       |
