# Air724UG AT固件版本

## AT固件版本说明

**V1.2跟V1.3固件的背景和联系：**

* V1.3分支是基于V1.2分支厂商平台版本的一次大升级V1.3在V1.2的基础上新增蓝牙，超低功耗，SIM卡自动切换功能。
* V3XXX为V1.3的版本，V1XXX为V1.2的版本，如V301830是V1.3的固件，V1623是V1.2的固件。

**V1.2固件出货的模块能升级到V1.3的版本吗？**

* V1.3完全兼容V1.2，故V1.2的版本可以升级到V1.3的版本。（特别注意！！）但只支持线刷，不能远程升级到V1.3。

**V1.3固件出货的模块能降级到V1.2的版本吗？**

* V1.2版本不支持V1.3版本的校准参数，故V1.3的版本不能降级到V1.2的版本,否则会开不了机。

**首推1.3基线版本，相同基线之间可以空中升级，跨基线版本之间不支持空中升级**

## V1.3 AT固件版本下载地址

- 最新版本
  [AirM2M_720U_V401881_LTE_AT](https://cdn.openluat-erp.openluat.com/erp_site_file/product_file/sw_file_20240506192453_AirM2M_720U_V401881_LTE_AT.zip "AirM2M_720U_V401881_LTE_AT")
- 历史版本
  [AirM2M_720U_V401880_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20240103111151941_AirM2M_720U_V401880_LTE_AT.rar)
  [AirM2M_720U_V401879_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20231019113341070_AirM2M_720U_V401879_LTE_AT.rar)
  [AirM2M_720U_V401876_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20230601112945791_AirM2M_720U_V401876_LTE_AT.rar)
  [AirM2M_720U_V401875_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20230601112820888_AirM2M_720U_V401875_LTE_AT.rar)
  [AirM2M_720U_V401874_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20221123105505766_AirM2M_720U_V401874_LTE_AT.rar)
  [AirM2M_720U_V401857_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220913110205709_AirM2M_720U_V401857_LTE_AT.rar)
  [AirM2M_720U_V401855_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220813145203956_AirM2M_720U_V401855_LTE_AT.rar)
  [AirM2M_720U_V401851_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220413165936585_AirM2M_720U_V401851_LTE_AT.rar)
  [AirM2M_720U_V301849_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220326175312035_AirM2M_720U_V301849_LTE_AT.rar)
  [AirM2M_720U_V301848_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220224102445034_AirM2M_720U_V301848_LTE_AT.rar)
  [AirM2M_720U_V301847_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220117142904701_AirM2M_720U_V301847_LTE_AT.rar)
  [AirM2M_720U_V301846_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20211202113327233_AirM2M_720U_V301846_LTE_AT.rar)
  [AirM2M_720U_V301845_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20211008143124574_AirM2M_720U_V301845_LTE_AT.rar)
  [AirM2M_720U_V301844_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210809174932529_AirM2M_720U_V301844_LTE_AT.zip)
  [AirM2M_720U_V301842_LTE_AT.](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210708142318333_AirM2M_720U_V301842_LTE_AT.zip)
  [AirM2M_720U_V301840_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210610134646399_AirM2M_720U_V301840_LTE_AT.zip)
  [AirM2M_720U_V301836_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210505191925581_AirM2M_720U_V301836_LTE_AT.zip)
  [AirM2M_720U_V301833_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210330135929345_AirM2M_720U_V301833_LTE_AT.zip)
  [AirM2M_720U_V301832_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210316134830388_AirM2M_720U_V301832_LTE_AT.zip)
  [AirM2M_720U_V301831_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210309170517161_AirM2M_720U_V301831_LTE_AT.zip)
  [AirM2M_720U_V301830_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210222101352949_AirM2M_720U_V301830_LTE_AT.zip)

## V1.3 AT固件版本更新说明

- **V401881**发布时间：2024-5-6
  修改记录：
  1：增加Air795模块的RI引脚功能支持
  2：增加8910 udp多基站定位功能
  3：修复 http USERDATA 写入nvm 处理参数\r\n乱码问题
  4：适配795UGG电压控制GPS供电用
- **V401880**发布时间：2023-11-21
  修改记录：
  1：解决移动卡在特定情况下对6F7E写入问题
  2：增加lcd_vcc电压输出AT指令
- **V401879**发布时间：2023-10-12
  修改记录：
  1：解决某些蓝牙设备当查询特征时句柄范围不匹配返回ERR的问题
  2：解决先存贮再发送中文短信时产生乱码问题:
  3：解决UDFHP指令AT&W无法正常保存的问题
  4：解决广电卡获取ip慢的问题
  5：解决当频繁切换小区时产生的大量写卡动作:
- **V401876**发布时间：2023-03-24
  修改记录：
  1：解决某种卡在新版本上无法正常使用的问题
- **V401875**发布时间：2023-02-24
  修改记录：
  1：修改+CLASS0:格式问题
  2：解决被叫挂断时上报异常
- **V401874**发布时间：2022-11-21
  修改记录：
  1：AT+CIPGSMLOC修改为HTTP GET方式
- **V401857**发布时间：2022-09-05
  修改记录：
  1：解决模块接收MQTT服务器数据，再通过串口输出情况下，当MQTT服务器快速下发时(比如50字节/10MS)，模块串口输出会丢数据（概率性）
  2：解决AT固件单路透传无法正常切换命令模式和数据模式（概率性）
  3：修改AT+FSWRITE设置指令返回值（返回值由>改为>空格），与CIPSEND指令返回保持一致 (必现）
  4：解决SIM卡锁PIN状态下，模块无法读取CCID问题 (必现）
  5：解决播放"FTP下载的音频文件"死机的问题。(必现）
  6：解决电池供电 sd卡读写慢的问题（概率性）
- **V401855**发布时间：2022-08-04
  修改记录：
  1：添加指令AT+HTTPGET保存HTTP服务响应数据；
  2：解决https下载大文件会超时的问题(概率性)；
  3：解决BAND34注册不上网络问题
- **V401851**发布时间：2022-03-28
  修改记录：
  1：解决模块出厂为lua版本烧录AT版本无法获取usb索引的问题（必现）；
  2：解决音频输出通道配置为听筒时无法播放音频文件（必现）；
  3：合宙8910平台全系Cat.1 模块生产出货固件版本升级（升级至V4XXX），不允许版本回退的相关说明：https://doc.openluat.com/share_article/zH73TFN62lEyw#
- **V301848**发布时间：2022-01-26
  修改记录：
  1:  添加查询ims注册状态的指令AT+CIREG，支持查询sim卡是否开通VOLTE;
- **V301847**发布时间：2021-12-23
  修改记录：
  1：解决301846固件输入ATE0，AT+MPUBEX 发送数据仍旧有回显问题
- **V301846**发布时间：2021-10-29
  修改记录：
  1：解决专网卡 AT+CLPORT指令不生效问题
  2：解决windows重启后概率性识别不到模块usb的问题
  3：解决蓝牙主模式查找服务和特征时传入错误uuid后再传入正常uuid无法使用的问题
  4：解决苹果手机部分应用搜索到的蓝牙信号名称错误的问题
  5：解决使用rndis，模块作为网卡，tcp链接数量有限制问题
  【问题原因】：nat映射表最大为1024，添加链表维护处理
  6：解决301845版本通话中设置MIC增益失败的问题
- **V301845**发布时间：2021-09-15
  修改记录：
  1：解决通话录音死机必现的问题
  2：解决断网恢复后概率性PING不通的问题
  【问题原因】：联网后主控立马发数据导致模块端接收队列满了，后面没清
  3：解决播放TTS 后，MIC 增益的音频参数设置失败必现的问题
  4：解决在liteos系统上概率性出现usb口窜数据的问题
  比如:从 ttyUSB1 发出的内容，可能会被 ttyUSB0 收到。 导致 ttyUSB1 一直等待
  【问题原因】：USB reset中断处理不彻底
  5:添加AT*SECUREBOOT指令使能secure boot的功能，说明链接：https://doc.openluat.com/wiki/21?wiki_page_id=2538
  6：解决开机概率性死机的问题
  【问题原因】：初始化顺序出错导致访问空指针
  7：添加蓝牙支持自定义服务的功能
  8：增加AT+CGNSPWR指令自适应GPS芯片功能（530,530Z,530H）
- **V301844**发布时间：2021-07-23
  修改记录：
  1：解决蓝牙切换主从模式后，会上报两份连接状态URC的问题
  2：添加SIM卡自动切换开关指令（AT*SIMAUTO）
  3：解决AT+BLEADV=ADVPARAM指令传6个参数死机的问题
  【问题原因】:参数没有初始化
  4：AT版本支持和芯星通GPS
  5：修改WIFI定位概率性出错的问题
  【问题原因】:固件底层某个数据类型写错
- **V301842**发布时间：2021-06-23
  修改记录：
  1：解决模块作为经典蓝牙与手机连接，播放音乐，手机端调节音量模块死机的问题
  【问题原因】:调音量的时候会阻塞音频数据导致死机
  2：BLE蓝牙添加白名单功能
- **V301840**发布时间：2021-06-09
  修改记录：
  1:去除默认的低电压关机功能，改为开机后可配置
  2:针对低电压关机后，重新上电无法开机问题，新增AT+CBC?指令， AT+CBC=powerOnVol,powerOffVol 查询和设置开机和关机电压检测3:修改模块使用联通卡概率性进入不了自动升级的问题
  【问题原因】:联通卡特殊情况下没有emm information下发导致底层不上报EV_CFW_NW_NETWORKINFO_IND消息，进入不了升级逻辑
  4:修改域名解析慢和解析 失败的问题
  【问题原因】:原始UDP包的checksum为0，但是还去校验
  5:解决蓝牙扫描到的RSSI不稳定的问题
  6:修改不支持服务器ssl加密套件导致https握手失败的问题
  【问题原因】:服务器不支持模块的ssl加密套件
  7:修改WIFI定位概率性出错的问题
- **V301836**发布时间：2021-04-27
  修改记录：
  1:解决SIM1 无法休眠的问题
- **V301833**发布时间：2021-03-24
  修改记录：
  1:修改724UG 模块使用1623固件无法识别SIM问题（1623固件GPIO23的开机状态和1622不相同）
  2:修改AT手册中TTS播放的中文字符个数限制问题
  3:修改模块开机第一次查询AT+ICCID返回ERROR问题
  4:蓝牙添加广播和扫描参数设置指令
  5:AT+CSDT指令添加可选参数配置SIM插入的检测电平
- **V301832**发布时间：2021-03-11
  修改记录：
  1.修改来电会有一声响铃的问题
- **V301831**发布时间：2021-03-03
  修改记录：
  1.解决AT+CAUDPLAY=1,"/sdcard0/FTP/8813.mp3"能播放,而AT+CAUDPLAY=1,"D:/FTP/8813.mp3"不能播放的问题
  2.修改ASSERT =1 死机后会重启
  3.连续上报2次CPIN READY
  4.MQTT发送非定长消息开发需求，5s超时，5s内没有数据过来，结束接收消息，发布接收到的所有消息
- **V301830**发布时间：2021-02-07
  修改记录：
  1.支持band34
- **V301826**发布时间：2021-01-06
  修改记录：
  1:修改蓝牙MAC地址显示与调试软件不符的问题
  2:wifiscan指令支持异步扫描模式
  3:sim热插拔和sim卡自动检测功能冲突
  4:蓝牙从模式开启广播后修改广播内容，重新打开广播，蓝牙调试软件会获取到重复服务和特征描述
  5:AT手册添加读写蓝牙MAC地址的指令
  6:优化流播放部分MP3音频数据阻塞问题
  7:3.3V供电模块无法开机问题
  8:蓝牙广播进入休眠后停止
  9:V301825手册中MIC增益命令缺失参数；AT命令文档章节格式问题
  10:AT+RNDISCALL=0,1后重新插拔USB，rndis可以重新上网
  11:修改音频校准参数
  12:V301825 蓝牙从设备查询出的连接状态跟事实不符
  13:修改电池检测电压不准问题
  14:修改手册最大MPUB长度为2348
  15:合并修改，iot_pmd_get_batteryStatus会将所在函数的第一个传入参数低4字节清零

## V1.2 AT固件版本下载地址

- 最新版本
  [AirM2M_720U_V1628_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210726173051103_AirM2M_720U_V1628_LTE_AT.zip)
- 历史版本
  [AirM2M_720U_V1626_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210511104746190_AirM2M_720U_V1626_LTE_AT.zip)
  [AirM2M_720U_V1624_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210401112837743_AirM2M_720U_V1624_LTE_AT.zip)
  [AirM2M_720U_V1623_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20210223182216095_AirM2M_720U_V1623_LTE_AT.zip)
  [AirM2M_720U_V1622_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20201124173259386_AirM2M_720U_V1622_LTE_AT.zip "AirM2M_720U_V1622_LTE_AT")
  [AirM2M_720U_V1342_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20201024113032329_AirM2M_720U_V1342_LTE_AT.zip "AirM2M_720U_V1342_LTE_AT")
  [AirM2M_720U_V1066_LTE_AT](https://cdn.openluat-luatcommunity.openluat.com/attachment/20200914094734892_AirM2M_720U_V1066_LTE_AT.zip "AirM2M_720U_V1066_LTE_AT")
  [AirM2M_720U_V907_LTE_AT](http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20200803195833_AirM2M_720U_V907_LTE_AT.pac "AirM2M_720U_V907_LTE_AT")
  [AirM2M_720U_V838_LTE_AT](http://www.openluat.com/Product/file/rda8910/AirM2M_720U_V838_LTE_AT.zip "AirM2M_720U_V838_LTE_AT")
  [AirM2M_720U_V584_LTE_AT](http://openluat-erp.oss-cn-hangzhou.aliyuncs.com/erp_site_file/product_file/sw_file_20200529110544_AirM2M_720U_V584_LTE_AT.pac "AirM2M_720U_V584_LTE_AT")

## V1.2 AT固件版本更新说明

- **V1628**发布时间：2021-07-19
  修改记录：
  1：修改WIFI定位概率性出错的问题
  【问题原因】:固件底层某个数据类型写错
  2：修改 AT+CNTP=? 命令返回格式与AT手册不符问题，与AT手册保持一致
  3：修改AT*BAND=?返回格式不规范的问题
  【问题原因】:多一个空格
  4：解决模块使用特殊sim卡， 开机一段时间后死机的问题
  【问题原因】:在中断服务程序中调用了rpc的接口，改成在任务里执行
  5：解决DNS查询多次失败的问题
  【问题原因】:原始UDP包的checksum为0，但是还去校验
  6：解决查询空电话本死机的问题
  【问题原因】:log打印访问空指针
- **V1626**发布时间：2021-04-29
  修改记录：
  1：优化部分城市类似“电子围栏的小区，公安系统布的网络”引起的掉线问题（普通的sim卡无法使用）
  2：优化网络延时问题，例如：云喇叭播报延迟
  出现概率：概率性的，和网络配置相关
- **V1624**发布时间：2021-03-09
  修改记录：
  1：解决AT+CAUDPLAY=1,"/sdcard0/FTP/8813.mp3"能播放,而AT+CAUDPLAY=1,"D:/FTP/8813.mp3"不能播放的问题
- **V1623**发布时间：2021-02-18
  修改记录：
  1:支持AT+WIFISCAN进行异步扫描
  2:解决打开cp日志后概率性出现usb口异常的问题
  3:解决AT+RNDISCALL=0,1在重新插拔USB后不生效的问题
  4:修改录音声音小的问题
  5:WIFISCAN指定信道扫描不可用
  6:OPENAT_get_system_tick获取的tick时间，改成关机后清零
- **V1622**发布时间：2020-11-20
  修改记录：
  1.AT V1560 长时间挂测 USB AT DIAG口不通了，回退合并
  2.485存在内存泄漏
  3.linux下ECM无法使用
  4.音频播放+gpio会卡死
  5.dns task堆栈溢出
  6.AT^SYSINFO返回的信息不对
  7.V301401 AT+CGNDEL=3删除epo命令返回错误
- **V1342**发布时间：2020-9-28
  修改记录：
  1.激活ipv4v6,使用RNDIS上网无法使用连接ipv6地址
  2.添加AT+TCPUSERPARAM
  3.开发切换音频通道AT,重启后生效(默认是classD)
  4.采用软复位重启模块后，osiGetBootCauses接口无法获取到正确结果
  5.添加AT*USB=HOTPLUG,0/1
  6.标准AT指令增加RI动作的配置
  7.AT*CSQ=1打开CSQ主动上报，缺少*CESQ: `<rxlev>`,`<ber>`,`<rscp>`,`<ecno>`,`<rsrq>`,`<rsrp>`,`<sinr>`
- **V1066**发布时间：2020-08-24
  修改记录：
  1.默认承载未激活时，让cgatt返回0
  2.去除代码中对gps存在的检测
  3.TTS支持英文字母播报
  4.去除GPIO 13  拉高进入校准模式功能
  5.用FS_O_WRONLY打开文件后无法写文件
  6.修改UDP丢包问题
  7.优化功能测试
  8.非boot下载，概率性无法启动的问题
  9.修改CCFC=2,2总是返回error问题
  10.自动更改core里的函数名
  11.V897 AT+RNDISCALL=?缺少第二个参数取值
- **V907**发布时间：2020-08-03
  修改记录：
  1:开发通用工厂测试
  2:V838 AT*CSQ命令实现
  3:升级到W20.30.1
  4:NAT PPP拨号之后无法PING外网
  5:AT+RNDISCALL增加一个参数来确认是否需要保存当前设置，0或者没有第二个参数不保存，1，保存
  6:FOTA失败后，查询AT+UPGRADE?返回值不对
  7:添加GPIO 测试AT 命令
  8:使用pwm接口后无法休眠
  9:增加mqtt定长发送指令MPUBEX
- **V838**发布时间：2020-07-18
  修改记录：
  1.MQTT的AT模式模块自动维护心跳
  2.支持最大2384 MPUB 发送
  3:服务器关闭，没有closed 上报
  4:开启CSDT=1 PDP就掉激活了/开关一次CSDT之后 GPIO23接地掉卡上报的信息有误
  5:AT+FTPGETTOFS命令，当文件名字达到64位长度时，每次执行都失败
  6:FSLS查看一个空目录的时候会返回错误
  7:FTPEXTGET命令保存的文件，无法删除
  8:AT^HEARTBEATHEX命令设置心跳内容后，模块收到的心跳数据是错的
- **V584**发布时间：2020-05-29
  修改记录：
  1:CEREG和CREG命令返回的tac/LAC数据不对
  2:当没一路PDP 激活的时候，查询CGDCONT 返回+CGDCONT:
  3:提高通话音量和音频播放音量基础音量
  4:修改在数据传输中，禁用rndis ，有概率出现eth allocate req fail ，并且无法发送AT 问题
  5:修改VOLTE 默认打开

## [Luatools工具使用教程（点击此处，跳转阅读）](https://docs.openluat.com/Luatools/)

## [量产多路下载工具使用教程（点击此处，跳转阅读）](https://docs.openluat.com/multi_download/)
