## MQTT消息编码格式切换：AT+MQTTMODE

本命令设置MQTT发布消息的编码格式，是ASCII还是HEX。

语法规则：

| 命令类型 | 语法               | 返回                     | 说明 |
| -------- | ------------------ | ------------------------ | ---- |
| 设置命令 | AT+MQTTMODE=<mode> | OK                       | 成功 |
|          |                    | ERROR                    | 失败 |
| 查询命令 | AT+MQTTMODE?       | +MQTTMODE: <mode> <br>OK |      |
| 测试命令 | AT+MQTTMODE=?      | +MQTTMODE: (0,1) <br>OK  |      |

 

参数定义：

| 参数   | 定义                   | 取值 | 对取值的说明 |
| ------ | ---------------------- | ---- | ------------ |
| <mode> | MQTT发布消息的编码格式 | 0    | ASCII格式    |
|        |                        | 1    | HEX格式      |

 

举例：

| 命令（→）/返回（←） | 实例                        | 解释和说明                                                   |
| ------------------- | --------------------------- | ------------------------------------------------------------ |
| →                   | AT+MQTTMODE=1               | 设置发布MQTT消息的格式为：HEX                                |
| ←                   | OK                          |                                                              |
| →                   | AT+MPUB="test",0,0,"313233" | 比如发布消息内容为123，则发布的格式为十六进制格式的可见模式，实际消息接收者收到的消息内容是123 |
| ←                   | OK                          |                                                              |
| →                   | AT+MQTTMODE=0               | 设置发布MQTT消息的格式为：ASCII                              |
| ←                   | OK                          |                                                              |
| →                   | AT+MPUB="test",0,0,"123"    | 发布消息的内容 123                                           |
| ←                   | OK                          |                                                              |
