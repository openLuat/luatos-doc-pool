## 设置MQTT相关参数：AT+MCONFIG

语法规则：

| 命令类型 | 语法                                                         | 返回                                                         | 说明         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------ |
| 设置命令 | AT+MCONFIG=<clientid>[,<username>,<password>[,<will_qos>,<will_retain>,<will_topic>,<will_message>]] | OK                                                           | 正常返回     |
|          |                                                              | ERROR                                                        | 输入格式有误 |
| 测试命令 | AT+MCONFIG=?                                                 | +MCONFIG:<br> <clientid>[,<username>,<password>[,(0-2),(0,1),<will_topic>,<will_message>]] <br>OK |              |

 

参数定义：

| 参数           | 定义               | 取值   | 对取值的说明                                                 |
| -------------- | ------------------ | ------ | ------------------------------------------------------------ |
| <clientid>     | 客户端身份         | 字符串 | 最大256个字节。可以用""括住，也可以不用""(不能相同，否则最后一个刚连上服务器就会被踢掉) |
| <username>     | 登录服务器的用户名 | 字符串 | 最大256个字节。可以用""括住，也可以不用""                    |
| <password>     | 登录服务器的密码   | 字符串 | 最大256个字节。可以用""括住，也可以不用""                    |
| <will_qos>     | 服务质量           | 0      | 至多一次                                                     |
|                |                    | 1      | 至少一次                                                     |
|                |                    | 2      | 确保只有一次                                                 |
| <will_retain>  | 保留标志           | 0      | 如果will_topic字段没有设置，该字段也需要设置为0如果will_topic字段有设置，服务器必须将遗嘱消息当做非保留信息发布 |
|                |                    | 1      | 如果will_topic字段有设置，服务器必须将遗嘱信息当做保留信息发布 |
| <will_topic>   | 遗嘱消息的主题     | 字符串 | 最大256个字节。需用""括住(遗嘱主题不能相同，否则收不到遗嘱消息) |
| <will_message> | 遗嘱消息内容       | 字符串 | 最大1360个字节。需用""括住                                   |
