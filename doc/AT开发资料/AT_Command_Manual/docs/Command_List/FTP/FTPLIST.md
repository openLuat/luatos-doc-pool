## 获取远程服务器上文件目录：AT+FTPLIST

语法规则：

| 命令类型 | 语法                                                         | 返回                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 执行命令 | AT+FTPLIST=<mode>[,<reqlen>]                                 | 如果<mode>=1，则命令格式为：AT+FTPLIST=1 <br>返回值为：<br>OK或 +CME ERROR: <err> |
|          |                                                              | 如果<mode>=2，则命令格式为：<br>AT+FTPLIST=2,<reqlen> <br>返回值为：+FTPLIST：2,<cnflen>….数据…<br>OK |
| 测试命令 | AT+FTPLIST=?                                                 | OK                                                           |
| URC上报  | 输入AT+FTPLIST=1后，<br>如果是一个成功的FTP会话，后续会有如下的URC上报：<br>+FTPLIST:1,1 <br>如果是FTP数据传输结束，后续会有如下的URC上报：<br>+FTPLIST:1,0 <br>如果FTP会话失败，后续会有如下的URC上报：+FTPLIST:1,<error> |                                                              |

 

参数定义：

| 参数     | 定义                   | 取值   | 对取值的说明               |
| -------- | ---------------------- | ------ | -------------------------- |
| <mode>   | 工作模式               | 1      | 打开FTP 获取文件目录会话   |
|          |                        | 2      | 读取FTP 获取文件目录的数据 |
| <reqlen> | 请求的数据的长度       | 1~1460 |                            |
| <cnflen> | 实际的数据长度         | 1~1460 |                            |
| <error>  | 同+FTPGET中<error>定义 |        |                            |
