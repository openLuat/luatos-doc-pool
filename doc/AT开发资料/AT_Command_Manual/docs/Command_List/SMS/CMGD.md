## 删除短消息：AT+CMGD

使用设置指令，可删除优选消息存储器`<mem1>`中，位置号码参数为`<index>`的消息。

 

语法规则：

| 命令类型 | 语法                        | 返回和说明                                                   |
| -------- | --------------------------- | ------------------------------------------------------------ |
| 设置命令 | `AT+CMGD=<index>`           | 返回：<br>OK <br>说明：这个设置命令是删除`<mem>`1中索引为index的短信 |
|          | `AT+CMGD=<index>,<delflag>` | 返回：<br>OK <br>说明：这个设置命令是删除所有状态为`<delflag>`的短信。当`<delflag>`不等于0时，`<index>`参数被忽略 |
| 测试命令 | AT+CMGD=?                   | `+CMGD：(<index>取值列表),(<delflag>取值列表)`<br> OK        |

 

参数定义：

| 参数        | 定义                                                         | 取值 | 对取值的说明                                                 |
| ----------- | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| `<index>`   | 短信位置索引                                                 | -    | 整数型；关联存储器支持的地址编号范围内的取值                 |
| `<delflag>` | 删除类型，整数型。当`<delflag>=1，2，3，4时，<index>`参数将被忽略 | 0    | 删除指定位置号码为`<index>`的短消息                          |
|             |                                                              | 1    | 删除优选存储器其中所有已读的短消息，保留未读短消息和已存储的MO短消息（无论是否发送）MO:Mobile Originated |
|             |                                                              | 2    | 删除优选存储器中所有已读的消息和已发送的MO短消息，保留未读的以及未发送的已存储MO短消息 |
|             |                                                              | 3    | 删除优选存储器中所有已读的短消息，已发送和未发送的已存储MO短消息，保留未读的短消息 |
|             |                                                              | 4    | 删除优选存储器中包括未读在内所有的短消息                     |

 

举例：

| 命令（→）/返回（←） | 实例         | 解释和说明           |
| ------------------- | ------------ | -------------------- |
| →                   | AT+CPMS="SM" | 设置存储区为SIM      |
| ←                   | OK           |                      |
| →                   | AT+CMGD=1    | 删除掉index=1的短信  |
| ←                   | OK           |                      |
| →                   | AT+CMGD=1,4  | 所有的短信都被删除掉 |
| ←                   | OK           |                      |
