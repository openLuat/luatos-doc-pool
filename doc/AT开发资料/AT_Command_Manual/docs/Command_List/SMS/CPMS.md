## 短消息优先存储区选择：AT+CPMS

本命令可设置用于读取、存储等操作的存储器，包括<mem1>, <mem2>和<mem3>。

语法规则：

| 命令类型 | 语法                             | 返回和说明                                                   |
| -------- | -------------------------------- | ------------------------------------------------------------ |
| 设置命令 | AT+CPMS=<mem1>[,<mem2>[,<mem3>]] | +CPMS:<used1>,<total1>,<used2>,<total2>,<used3>,<total3> <br>OK |
| 查询命令 | AT+CPMS?                         | +CPMS:<mem1>,<used1>,<total1>,<mem2>,<used2>,<total2>,<mem3>,<used3>,<total3> <br>OK |
| 测试命令 | AT+CPMS=?                        | +CPMS:(<mem1>取值列表),(<mem2>取值列表),(<mem3>取值列表) <br>OK |

 

参数定义：

| 参数                     | 定义                                                         | 取值 | 对取值的说明 |
| ------------------------ | ------------------------------------------------------------ | ---- | ------------ |
| <mem1>                   | 读取和删除消息时使用的存储器，涉及以下3个AT指令：AT+CMGL AT+CMGR AT+CMGD | "SM" | SM即SIM 卡   |
| "ME"                     | ME为模块                                                     |      |              |
| <mem2>                   | 写、存储和发送消息时使用的存储器，涉及以下2个AT指令：AT+CMSS 和AT+CMGW | "SM" | SM即SIM 卡   |
| "ME"                     | ME为模块                                                     |      |              |
| <mem3>                   | 若没有建立到 TE的路由，则将接收的消息存储在该存储器          | "SM" | SM即SIM 卡   |
| "ME"                     | ME为模块                                                     |      |              |
| <used1><used2><used3>    | <mem1，2，3>中当前存储消息的数量                             | -    | 整数型       |
| <total1><total2><total3> | <mem1，2，3>中可存储的消息的总量                             | -    | 整数型       |

 

举例：

| 命令（→）/  返回（←） | 实例                                              | 解释和说明                                                   |
| --------------------- | ------------------------------------------------- | ------------------------------------------------------------ |
| →                     | AT+CPMS=?                                         |                                                              |
| ←                     | +CPMS: ("SM","ME"),("SM","ME"),("SM","ME") <br>OK |                                                              |
| →                     | AT+CPMS?                                          | 查询当前优选存储区类型                                       |
| ←                     | +CPMS: "SM",8,50,"SM",8,50,"SM",8,50 <br>OK       | 注：目前仅支持"SM"存储类型。请使用：AT+CPMS="SM","SM","SM" 设置短信存储类型。 |
