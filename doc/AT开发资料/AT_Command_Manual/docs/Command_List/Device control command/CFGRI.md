## 设置RI指示功能：AT+CFGRI

设置命令设置RI脚（模块中对应MAIN_RI脚）在收到URC上报的时候是否会有低脉冲指示。如果打开指示功能(<status>=1)，则相应的URC到来时，RI会产生一个120ms的低脉冲(缺省设置)。

语法规则：

| 命令类型 | 语法                                                         | 返回                   |
| -------- | ------------------------------------------------------------ | ---------------------- |
| 设置命令 | AT+CFGRI=<status> [,<h_time>][,<l_time>][,<count>]           | OK                     |
| 查询命令 | AT+CFGRI?                                                    | +CFGRI:<status><br> OK |
| 注意事项 | 无论<status>是0还是1，当收到短信的时候，缺省都会产生一个120ms低脉冲；<br>只有设置AT+CFGRI=1后，数据业务（包括TCPIP,HTTP,MQTT,FTP）到来时的URC上报，才会使RI产生低脉冲 |                        |

 

参数定义：

| 参数     | 定义       | 取值 | 对取值的说明                                   |
| -------- | ---------- | ---- | ---------------------------------------------- |
| <status> | RI指示状态 | 0    | RI指示功能关闭                                 |
|          |            | 1    | RI指示功能打开（TCPIP/FTP/HTTP/MQTT及其他URC） |
| <h_time> | 拉高的时间 | >0   | 单位：毫秒                                     |
| <l_time> | 拉低的时间 | >0   | 单位：毫秒                                     |
| <count>  | 拉低的次数 | >0   | 单位：毫秒                                     |

 

举例:

| 命令(→)/返回(←) | 实例                 | 解释和说明                                                   |
| --------------- | -------------------- | ------------------------------------------------------------ |
| →               | AT+CFGRI=0           | 这个是模块的缺省设置。<br>在此设置下，当收到短信的时候，会产生一个120ms低脉冲；当来电话的时候，会跳变为低电平，直到接通或挂断电话才会变成高电平 |
| ←               | OK                   |                                                              |
| →               | AT+CFGRI=1           | 在此设置下：<br>当收到短信的时候，会产生一个120ms低脉冲；当来电话的时候，会跳变为低电平，直到接通或挂断电话才会变成高电平；数据业务（包括TCPIP,HTTP,MQTT,FTP）到来时的URC上报，会产生一个120ms低脉冲。 |
| ←               | OK                   |                                                              |
| →               | AT+CFGRI=1,200,150,3 | 收到短信或数据业务的URC时，会产生3个150ms的低脉冲，低脉冲之间的拉高时间为200ms；当来电话的时候，会跳变为低电平，直到接通或挂断电话才会变成高电平 |
| ←               | OK                   |                                                              |
