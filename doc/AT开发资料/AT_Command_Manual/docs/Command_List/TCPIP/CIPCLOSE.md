## 关闭TCP或UDP连接：AT+CIPCLOSE

语法规则：

| 命令类型 | 语法                                                         | 返回和说明                                                   |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 设置命令 | 单路连接时 AT+CIPCLOSE=<id>                                  | 返回：<br>CLOSE OK                                           |
|          | 多路连接时 AT+CIPCLOSE=<n>[,<id>]                            | 返回：<br><n>,CLOSE OK                                       |
| 执行命令 | AT+CIPCLOSE                                                  | 如果关闭成功，返回：<br>CLOSE OK <br>如果关闭失败，返回：ERROR |
| 测试命令 | AT+CIPCLOSE=?                                                | 返回：OK                                                     |
| 注意事项 | **1.** 执行命令只对单链接有效，多链接模式下返回ERROR<br>**2.** 执行命令AT+CIPCLOSE 只有在TCP/UDP CONNECTING或CONNECT OK状态下才会关闭连接，否则会认为关闭失败返回ERROR<br>**3.** 单路连接模式下，关闭后的状态为IP CLOSE |                                                              |

 

参数定义：

| 参数 | 定义     | 取值 | 对取值的说明                                   |
| ---- | -------- | ---- | ---------------------------------------------- |
| <id> | 关闭模式 | 0    | 慢关（缺省值）                                 |
| 1    | 快关     |      |                                                |
| <n>  | Link No. | 0~5  | 整数型，表示连接序号。与+CIPSTRAT中<n>定义一致 |
