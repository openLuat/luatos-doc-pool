## 设置心跳包内容:AT^HEARTBEAT

本命令设置心跳包的内容。默认状态下将自己的 IMEI 作为心跳包内容。

语法规则：

| 命令类型 | 语法                              | 返回                                    |
| -------- | --------------------------------- | --------------------------------------- |
| 设置命令 | `AT^HEARTBEAT=<socket_id>,<data>` | OK                                      |
| 查询命令 | AT^HEARTBEAT?                     | `^HEARTBEAT: <socket_id>,<data> `<br>OK |
| 测试命令 | AT^HEARTBEAT=?                    | OK                                      |

 

参数定义：

| 参数          | 定义                           | 取值 | 对取值的说明                                 |
| ------------- | ------------------------------ | ---- | -------------------------------------------- |
| `<socket_id>` | 连接id，定义同+CIPSTART中`<n>` | 0~5  | 如果是单链接，固定为0如果是多链接，取值为0~5 |
| `<data>`      | 心跳包内容                     |      | 字符串类型，最长为256字节                    |

 

举例：

| 命令(→)/返回(←) | 实例                                 | 解释和说明       |
| --------------- | ------------------------------------ | ---------------- |
| →               | AT^HEARTBEAT?                        | 查询当前心跳内容 |
| ←               | ^HEARTBEAT: 0,866714044915436<br> OK | 缺省心跳为IMEI   |
| →               | AT^HEARTBEAT=0,TCP-heart             | 设置新的心跳内容 |
| ←               | OK                                   |                  |
| →               | AT^HEARTBEAT?                        | 再次查询         |
| ←               | ^HEARTBEAT: 0,TCP-heart <br>OK       |                  |
