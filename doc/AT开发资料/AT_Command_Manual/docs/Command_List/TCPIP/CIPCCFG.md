## 配置透明传输模式：AT+CIPCCFG

语法规则：

| 命令类型 | 语法                                                         | 返回                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 设置命令 | `AT+CIPCCFG=<NmRetry>,<WaitTm>,<SendSz>,<esc>[,<Rxmode>,<RxSize>,<Rxtimer>,<BufClean>]` | OK                                                           |
| 查询命令 | AT+CIPCCFG?                                                  | `+CIPCCFG: <NmRetry>,<WaitTm>,<SendSz>,<esc>,<Rxmode>,<RxSize>,<Rxtimer>,<BufClean>` <br>OK |
| 测试命令 | AT+CIPCCFG=?                                                 | +CIPCCFG: (NmRetry:3-8),(WaitTm:2-10),(SendSz:1-1460),(esc:0,1),(Rxmode:0,1),(RxSize:50-1460),(Rxtimer:20-1000),(BufClean:0,1) <br>OK |
| 注意事项 | 此命令只在单路连接（AT+CIPMUX=0）且AT+CIPMODE=1的情况下可以设置 |                                                              |

 

参数定义：

| 参数         | 定义                                                         | 取值    | 对取值的说明                                                 |
| ------------ | ------------------------------------------------------------ | ------- | ------------------------------------------------------------ |
| `<NmRetry>`  | 一个IP包的重传次数                                           | 3~8     | 缺省值为5                                                    |
| `<WaitTm>`   | 间隔发送时间                                                 | 2~10    | 单位为 100ms，缺省值为2。                                    |
| `<SendSz>`   | 每次发送数据字节数                                           | 1~1460  | 缺省值为1024                                                 |
| `<esc>`      | 是否开启转义序列[**软件上不支持转义功能，请忽略此参数所代表的意义**] | 1       | 开启转义序列                                                 |
|              |                                                              | 0       | 不开启转义序列，默认值                                       |
| `<Rxmode>`   | 从串口接收数据的时间间隔设置                                 | 1       | 设置时间间隔，间隔为`<Rxtimer>`                              |
|              |                                                              | 0       | 没有时间间隔                                                 |
| `<RxSize>`   | 每次接收数据的长度                                           | 50-1460 | 单位为bytes                                                  |
| `<Rxtimer>`  | 从串口接收数据的时间间隔                                     | 20-1000 | 单位为ms，缺省值为50ms                                       |
| `<BufClean>` | 退出透传后是否清空发送缓存区                                 | 0       | 不清空缓冲区一旦出错自动退出透传模式后，保留缓存数据。下次重连进入透传模式后，会发送之前缓冲区中的数据给服务器 |
|              |                                                              | 1       | 清空缓存区一旦出错自动退出透传模式后，缓存被清空。下次重连进入透传模式后，不会发送之前缓冲区中被清空的数据给服务器 |
