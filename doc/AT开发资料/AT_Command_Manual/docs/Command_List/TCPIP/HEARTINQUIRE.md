## 查询心跳包发送情况:AT^HEARTINQUIRE

本命令用于查询心跳包发送情况。

语法规则：

| 命令类型 | 语法              | 返回和说明                                                   |
| -------- | ----------------- | ------------------------------------------------------------ |
| 查询命令 | AT^HEARTINQUIRE?  | `^HEARTINQUIRE: <suctime>,<nextime>,<heartbeat_time>` <br>OK |
| 测试命令 | AT^HEARTINQUIRE=? | OK                                                           |

 

参数定义：

| 参数               | 定义                   | 取值 | 对取值的说明 |
| ------------------ | ---------------------- | ---- | ------------ |
| `<suctime>`        | 多少秒前发送成功了一条 |      | 单位：秒     |
| `<nextime>`        | 还剩余多少秒发下一条   |      | 单位：秒     |
| `<heartbeat_time>` | 一共发了多少条了       |      | 单位：条     |

 

举例：

| 命令(→)/返回(←) | 实例                               | 解释和说明                                                   |
| --------------- | ---------------------------------- | ------------------------------------------------------------ |
| →               | AT^HEARTCONFIG=1,0,120             | 设置心跳包功能开启                                           |
| ←               | OK                                 |                                                              |
| →               | AT+CIPSTART="TCP","36.6.*.*",12345 | 连接一个服务器服务器地址和端口请根据自己实际情况填写，不要照抄 |
| ←               | OK <br>CONNECT OK                  |                                                              |
| →               | AT^HEARTINQUIRE?                   | 查询心跳包发送情况                                           |
| ←               | ^HEARTINQUIRE: 115,5,8 <br>OK      |                                                              |
| →               | AT^HEARTCONFIG=0                   | 设置心跳包功能关闭                                           |
| ←               | OK                                 |                                                              |
| →               | AT^HEARTINQUIRE?                   | 查询心跳包发送情况                                           |
| ←               | ^HEARTINQUIRE: 0,0,0 <br>OK        | 统计已经清零                                                 |
