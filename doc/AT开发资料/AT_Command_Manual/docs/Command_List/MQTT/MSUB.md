## 订阅主题：AT+MSUB

本命令从客户端到服务器，用于一个或多个订阅主题。

语法规则：

| 命令类型 | 语法                                                         | 返回                         | 说明 |
| -------- | ------------------------------------------------------------ | ---------------------------- | ---- |
| 设置命令 | `AT+MSUB=<topic>,<qos>`                                      | OK <br>SUBACK                | 成功 |
|          |                                                              | ERROR                        | 失败 |
| 测试命令 | AT+MSUB=?                                                    | `+MSUB:<topic>,(0-2) `<br>OK |      |
| URC      | 当设置命令成功以后，如果收到MQTT消息会有相应的URC上报：<br>如果已经设置AT+MQTTMSGSET=0，收到MQTT消息会上报：<br>`+MSUB：<topic>,<len>,<message> `<br>如果已经设置AT+MQTTMSGSET=1，收到MQTT消息会上报：<br>`+MSUB：<store_addr>` |                              |      |

 

参数定义：

| 参数           | 定义         | 取值   | 对取值的说明                              |
| -------------- | ------------ | ------ | ----------------------------------------- |
| `<topic>`      | 消息主题     | 字符串 | 最大256个字节。可以用""括住，也可以不用"" |
| `<qos>`        | 服务质量     | 0      | 至多一次                                  |
|                |              | 1      | 至少一次                                  |
|                |              | 2      | 确保只有一次                              |
| `<len>`        | 接收数据长度 |        | 单位：字节                                |
| `<message>`    | 数据内容     | 字符串 | 最大4100个字节                            |
| `<store_addr>` |              | 0-3    | 接收消息时缓存的位置                      |
