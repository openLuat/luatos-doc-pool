## 专网卡设置APN、用户名、密码和鉴权方式：AT+CPNETAPN

语法规则：

| 命令类型 | 语法                                             | 返回                                                         |
| -------- | ------------------------------------------------ | ------------------------------------------------------------ |
| 设置命令 | AT+CPNETAPN=<mode>,<apn>,<user>,<pwd>,<authmode> | OK                                                           |
| 查询命令 | AT+CPNETAPN?                                     | MODE:<mode><br>APN:<apn><br>USR:<user><br>PWD:<password><br>AUTHMODE:<authmode> <br>OK |
| 测试命令 | AT+CPNETAPN=?                                    | +CPNETAPN:setmode=[2,3],"apn","Username","Password",authtype=[0,1,2] <br>OK |

 

参数定义：

| 参数       | 定义            | 取值 | 对取值的说明                                                 |
| ---------- | --------------- | ---- | ------------------------------------------------------------ |
| <mode>     |                 | 2    | 保存并立即生效                                               |
|            |                 | 3    | 删除保存的参数                                               |
| <apn>      | GPRS 接入点名称 |      | 字符串参数(双引号可加可不加)，不超过128个字符。注：此参数不可以为空 |
| <user>     | GPRS 用户名     |      | 字符串参数(双引号可加可不加)，不超过32个字符。如果为空，则表示为"" |
| <pwd>      | GPRS 密码       |      | 字符串参数(双引号可加可不加)，不超过32个字符。如果为空，则表示为"" |
| <authmode> |                 | 0    | 无鉴权                                                       |
|            |                 | 1    | PAP                                                          |
|            |                 | 2    | CHAP                                                         |

 

举例：

| 命令(→)/返回(←) | 实例                                                         | 解释和说明                                                   |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| →               | AT+CPNETAPN=2,jscmiot,u9682,iot98765,2                       | 设置专网卡的APN。各个参数请据实填写，不要照抄。设置此命令时模块会自动将AT+AUTOAPN设置为0，不用提前输入AT+AUTOAPN=0 |
| ←               | OK                                                           | 设置成功。设置成功后参数会保存到NV，模块会自动重启协议栈(部分卡需要手动重启协议栈) |
|                 | 重启后缺省的PDP承载(<cid>=1)已经为所设置的APN，并已经处于激活可用状态。这个缺省的PDP承载，用于模块RNDIS网卡功能以及TCPIP/HTTP/MQTT/FTP等数据业务。<br>AT+CGDCONT?<br> +CGDCONT: 1,"IP","jscmiot","10.67.64.153",,,,,,,,,,,,<br>OK<br>后面数据应用中CSTT或SAPBR设置APN的时候，只需要APN为空或设置<专网apn>即可，不需要再设置<user>和<pwd><br>例如：AT+CSTT=jscmiot<br>AT+CSTT<br>AT+SAPBR=3,1,"APN","jscmiot"<br>AT+SAPBR=3,1,"APN","" |                                                              |
