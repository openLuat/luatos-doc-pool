## 语音文件播放：AT+CAUDPLAY

**注：本命令仅适用于EC618平台系列模块（Air780E系列）AUAT版本>=V1146版本支持**

语法规则：

| 命令类型 | 语法                                                         | 返回                                              |
| -------- | ------------------------------------------------------------ | ------------------------------------------------- |
| 设置命令 | AT+CAUDPLAY=<mode>[,<filename>]                              | OK                                                |
| 查询命令 | AT+CAUDPLAY?                                                 | +CAUDPLAY: <mode><br>OK                           |
| 测试命令 | AT+CAUDPLAY=?                                                | +CAUDPLAY: (<mode>取值范围列表),<filename><br> OK |
| URC上报  | 1)AT+CAUDPLAY=1,<filename>开始播放，模块自己结束播放后提示+CAUDPLAY: 1,<duration>   // <duration>为播放持续时间 <br>2) AT+CAUDPLAY=2 结束播放，提示+CAUDPLAY: 1,<duration>  //<duration>为从开始播放到停止播放的持续时间<br>3) AT+CAUDPLAY=3 暂停播放，OK<br>4) AT+CAUDPLAY=4 恢复播放，模块自己结束播放后提示+CAUDPLAY: 1,<duration>   // <duration>为从开始播放到停止播放的持续时间 |                                                   |

 

参数定义：

| 参数       | 定义         | 取值 | 对取值的说明                                    |
| ---------- | ------------ | ---- | ----------------------------------------------- |
| <mode>     | 使用模式     | 1    | 开始播放(start)                                 |
|            |              | 2    | 停止播放(stop)                                  |
|            |              | 3    | 暂停播放(pause)                                 |
|            |              | 4    | 恢复播放(resume)                                |
| <filename> | 音频文件名字 |      | AMR,WAV,MP3格式。需要加后缀，支持8K采样音频数据 |
| <duration> | 播放持续时间 |      | 单位：毫秒                                      |

 

举例：

| 命令（→）/返回（←） | 实例                            | 解释和说明                                       |
| ------------------- | ------------------------------- | ------------------------------------------------ |
| →                   | AT+FSCREATE="test.mp3"          | 创建音频文件                                     |
| ←                   | OK                              |                                                  |
| →                   | AT+FSWRITE="test.mp3",0,1268,20 | 输入音频文件。这里长度1268只是举例，请以实际为准 |
| **←**               | **>**                           | **这里输入音频文件内容（二进制，即16进制）**     |
| ←                   | OK                              |                                                  |
| →                   | AT+CAUDPLAY=1,"test.mp3"        | 播放音频文件注：音频文件名字需要加后缀           |
| ←                   | OK                              |                                                  |
| ←                   | +CAUDPLAY: 1,2585               | 播放结束上报                                     |
