## 1.识别不到usb的可能情况
>（1）没有安装usb驱动  ；
>（2）DM、DP短路、接反或者被打坏 ； 
>（3）VBUS引脚没接或者VBUS电压值低于3.6V  ；
>（4）查看模块是否正常开机（8910平台：测量1.8V引脚电压，开机是1.8v。EC618平台：VDD_EXT管脚输出1.8v(IO_SEL管脚悬空)/3.3v (IO_SEL管脚接地)就是开机标志）  ；
>（5）如果电脑可以进入下载模式，但是识别不到USB端口，（8910平台）可以通过BOOT方式重新烧入V4XXX的最新固件版本[AT版本固件资料](https://doc.openluat.com/wiki/21?wiki_page_id=2087 "AT版本固件资料") ；
>（6）可以换根线试试，确认一下是不是线的问题 ，线是否支持数据传输功能；

## 2.724模块如何关闭usb枚举出来的端口
>- 模块开机后，usb默认会枚举出Modem、AT、AP、CP四个端口，可通过AT+USBSWITCH命令打开或者关闭usb枚举功能。<br>
>打开USB端口枚举功能：AT+USBSWITCH=1
>关闭USB端口枚举功能：AT+USBSWITCH=0BSWITCH=0")



## 3.724 A13/A12开发板，可以用充电宝连接数据线到开发板usb口，独立供电吗？
>可以，电压5~12V,USB口如果接超过5V的电压要断开模块的VBUS检测脚。

## 4.为什么同一型号的合宙724模块读出来的设备id号不同?
>显示下图所示的id，说明模块处于下载模式。
>![image.png](https://cdn.openluat-luatcommunity.openluat.com/images/20210712163623711_image.png)

## 5.724模块关闭/打开vbus检测
>AT\*USB="HOTPLUG",1   --打开vbus检测
>AT\*USB="HOTPLUG",0   --关闭vbus检测<br>
>为1会在开机时尝试打开几次usb，如果都不能枚举，就会认为没接usb，关闭usb部分的电源，dp上就没电压。
>为0时开机枚举不成功，usb会进suspend状态，但usb部分的电源不会关，不会影响后面的usb识别。
>***注意：模块重启后生效***


## 6.usb口可以下载，但是电脑没能发现设备
>一般是vbus没供电导致。


## 7.724模块发送什么指令模块会进入下载模式
>AT*DOWNLOAD=1 发这个指令，模块会进入boot烧录模式，boot下载固件成功后退出。

## 8.我产品插着USB功能都正常，拔掉USB，产品有时正常，有时会自动重启是什么原因？
>可能是模块拔掉usb后，供电不足；
>拔掉usb后，示波器监测模块vbat或v-global引脚电压看看；
>3.3V 下降沿触发监控vbat看下；
>也有可能是拔掉usb，模块自动休眠，软件bug导致重启

## 9.724模块usb虚拟出4个串口 分别是对应什么功能
>APlog，CPlog为模块底层log，AT口用来发送AT命令
>![undefined](https://cdn.openluat-luatcommunity.openluat.com/images/20211009152443092_usb口.jpg "undefined")

## 10.724模块vbus 的供电，对vbat引脚有影响？目前测试到vbus供电5V，vbat引脚居然有2.2v
 >vbus供电，vbat是有电压1.6v -2.2v ，模块不会工作的，不影响。

## 11.断电后万用表打到二极管档，红接地，黑接vbat,1.8v ,usb三个脚测量，数值在400-500是正常，我测量1.8v，vbat是0.304V左右，usb_dp是0.442v,usb_dm是0.021v这个是硬件损坏？
 >dm管脚对地量下看有没对地短路， 如果短路就是硬件损坏了。

## 12.只要重启模块，USB就识别不了，必须重启电脑，然后也只能第一次连接可以使用，只要重启一次之后就要重启电脑
>WIN10企业版 ， 企业版用户较少，驱动问题，尽量适配，建议使用专业版

## 13.针对air724ug,722ug,720u,820ug模块不开机&不识别usb端口&烧录不了固件&开机出现SPRD U2S端口(变砖)，处理步骤如下：

>1.正常情况，模块vbat供电，pwrkey 管脚拉到地1.5s 以上就可以开机，V_GLOBAL_1V8管脚输出1.8v就是开机标志，注意：（1）at固件powerkey必须接地1.5s  才能开机.（2）lua固件vbus和vbat供电就可以开机，如果vbus没有供电，pwrkey也要拉低1.5s才会开机。如果vbat管脚供电了，pwrkey接地了，模块V_GLOBAL_1V8管脚也没输出，或者1.8v管脚输出电压异常，可能spi或者串口，usb，sim卡，V_GLOBAL_1V8管脚被静电浪涌打坏
>2.先看是什么情况下导致的？
> （1） 如果是烧录程序过程中导致不识别端口，大概率是变砖，用uboot方式烧录,烧录方法参考第8点。
> （2） 如果是第一次打样，按如下方式排查：
>3.接个好的板子看能不能识别到端口，排除电脑环境和usb线和usb驱动问题,检查下usb座子到模块之间线路有没问题？
>4.也可以把usb线路上的tvs管和电容都去掉，直接飞线到模块usb脚到电脑usb口测试。
>5.模块供电，复位脚电压，V_GLOBAL_1V8电压是不是ok ，V_GLOBAL_1V8有没对地短路，断电后万用表打到二极管档，红接地，黑接vbat,1.8v ,usb三个脚，串口，sim卡几个管脚测量，数值在400-500是正常，如果偏差大可能有硬件损坏。
>6.pwrkey一直接地，vbat供电后，V_GLOBAL_1V8出来没，如果有1.8v说明开机了
>7.上面都没问题，用uboot方式烧录个at固件试下。
>8.uboot强制烧录步骤：电脑Luatools工具上先选个at固件,点下载，然后pwrkey脚对地短接，USB_BOOT和V_GLOBAL_1V8短接不松开，接好usb线到电脑，注意是最后上电开机,看到 进度条在跑了就行了，烧录完后要断开V_GLOBAL_1V8和USB_BOOT管脚，at固件链接：https://doc.openluat.com/article/1061/0#13AT_13
>9.如果能烧录成功，但是不能识别到usb虚拟端口，一般是vbus没供电和tvs管导致，可以去掉usb上的tvs管和电容测试。
>10.如果设备管理器一直有SPR2端口：
>(1)看是否USB_BOOT和V_GLOBAL_1V8短路。
>(2)uart2的rx和tx是否短路，串口是否对地短路。
>(3)V_GLOBAL_1V8是否对地短路。
>(4)KEYIN1管脚是否一直被拉高，如果都ok，就用USB_BOOT短接1.8v 重新烧录个at固件。

## 14.air780e,air780eg,air600e,air700e/f模块不开机&不识别usb端口&烧录不了固件处理步骤如下：

>1.正常情况，模块vbat供电，pwrkey 管脚拉到地1.5s 以上就可以开机，VDD_EXT管脚输出1.8v(IO_SEL管脚悬空)/3.3v (IO_SEL管脚接地)就是开机标志，注意：如果vbat管脚供电了，pwrkey接地了，模块VDD_EXT管脚也没输出，或者VDD_EXT管脚输出电压异常，可能spi或者串口，usb，sim卡，VDD_EXT管脚被静电浪涌打坏，注意：复位脚不能上拉，上拉开不了机
>2.先看是什么情况下导致的？
>（1） 如果是烧录程序过程中导致不识别端口，大概率是变砖，用uboot方式烧录,烧录方法参考第8点。
> （2） 如果是第一次打样，按如下方式排查：
>3.接个好的板子看能不能识别到端口，排除电脑环境和usb线和usb驱动问题,检查下usb座子到模块之间线路有没问题？
>4.也可以把usb线路上的tvs管和电容都去掉，直接飞线到模块usb脚到电脑usb口测试。
>5.模块供电脚vbat，复位脚电压，VDD_EXT脚电压是不是ok ，VDD_EXT有没对地短路，断电后万用表打到二极管档，红接地，黑接vbat,VDD_EXT ,usb三个管脚，串口，sim卡几个管脚测量，数值在400-600左右是正常，如果偏差大可能有硬件损坏。
>6.pwrkey一直接地，vbat供电后，VDD_EXT出来没，如果有1.8v(IO_SEL管脚悬空)/3.3v (IO_SEL管脚接地)输出说明开机了
>7.上面都没问题，用uboot方式烧录个at固件试下。
>8.uboot强制烧录步骤：先把模块pwrkey脚对地短接，USB_BOOT(注意如果是700e要串个51k上拉到vbat才会进boot)和VDD_EXT短接不松开，接好usb线到电脑，然后电脑Luatools工具上先选个at固件,点下载，注意:是最后给vbat管脚上电开机,看到 进度条在跑了就行了，烧录完后要断开VDD_EXT和USB_BOOT管脚，选一个最新的at固件，链接如下：https://doc.openluat.com/article/4922#AT_1
>9.如果能烧录成功，但是不能识别到usb端口，一般是tvs管和电容导致，可以去掉usb上的tvs管和电容测试。
>10.如果设备管理器一直看不到usb端口：
>(1)  检查vbus，dp,dm数据线有没对地短路，阻值异常，是否被浪涌打坏。
>(2）看是否USB_BOOT和VDD_EXT短路。
>(3）看串口的rx和tx是否短路，串口是否对地短路。
>(4)  看VDD_EXT是否对地短路。
>(5)USB_BOOT管脚是否一直被拉高，如果都ok，就用USB_BOOT短接VDD_EXT重新烧录个at固件，参考第8点。
>11，如果开机能看到usb三个端口，按住boot按键开机，进不了boot模式，usb出现感叹号，不识别，（1）看是否USB_BOOT和VDD_EXT假焊，或者USB_BOOT和VDD_EXT之间的串联电阻是否过大，按键开关是否开路。（2）usb，dp,dm到模块数据线之间串的电阻是否过大，建议10欧以下。(3)如果上面都排查了，一般是usb线的问题，usb要求走差分，90欧姆阻抗，不要用杜邦线转接，建议直接找个好的usb数据线剪断飞到模块usb管脚测试

## 15.驱动安装提示成功，但是设备管理器查看依旧是感叹号
>可能原因是之前安装过其他家的8910芯片，数字签证可能会冲突，需禁用数字签证，才能安装成功。禁止Windows驱动签名认证，参考链接中第四步骤 [史上最详细的Air7xx驱动安装教程](https://doc.openluat.com/article/463 "史上最详细的Air7xx驱动安装教程")

## 16.PLC客户经常遇到的，驱动装上以后，下载一次固件或者luatools勾选上4G模块USB打印后，电脑蓝屏，重启设备以后，又变成未知设备
>参考附件解决方法：[西门子编程软件和8910驱动冲突解决办法.docx](https://cdn.openluat-luatcommunity.openluat.com/attachment/20220506142014277_西门子编程软件和8910驱动冲突解决办法.docx)
>新版的西门子PLC软件百度网盘下载链接：
>https://pan.baidu.com/s/1jq5zjV6d3-kCqzbRho3w4g?pwd=9fnh 提取码: 9fnh 
>如果失效，用户自行找最新版的PLC软件
